(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8295],{15794:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(87404)}])},18536:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var a=t(37876),r=t(46098),l=t(10553),i=t(89099),n=t(14232),o=t(30810);let c=e=>{let{setAuthComplete:s}=e,[t,c]=(0,n.useState)(!1),[d,m]=(0,n.useState)(""),[u,h]=(0,n.useState)({email:"",password:""}),{userState:{email:p}}=(0,r.u)(),x=(0,i.useRouter)(),j=x.asPath.includes("checkout"),f=async e=>{e.preventDefault(),c(!0),200===(await (0,l.signIn)("credentials",{email:p||u.email,password:u.password,redirect:!1})).status?(x.replace(j?"/checkout":"/dashboard/downloads"),h({...u,email:"",password:""}),j&&s(!0)):m("Incorrect email or password"),c(!1)};return(0,a.jsxs)("form",{className:"row",id:"service-form",method:"POST",onSubmit:f,children:[!p&&(0,a.jsxs)("div",{className:"col-12 mb-4",children:[(0,a.jsxs)("label",{htmlFor:"email",className:"form-label",children:["Email",(0,a.jsx)("span",{className:"lh-1 text-red-600",children:"*"})]}),(0,a.jsx)("input",{type:"email",className:"form-input",id:"email",name:"email",placeholder:"johndoe@email.com",onChange:e=>{h({...u,email:e.target.value.toLowerCase()})},required:!0})]}),(0,a.jsxs)("div",{className:"col-12",children:[(0,a.jsxs)("label",{htmlFor:"password",className:"form-label",children:["Password",(0,a.jsx)("span",{className:"lh-1 text-red-600",children:"*"})]}),(0,a.jsx)("input",{type:"password",className:"form-input",id:"password",name:"password",placeholder:"Password",onChange:e=>{h({...u,password:e.target.value})},required:!0})]}),(0,a.jsx)("div",{className:"col-12 mt-2 text-end",children:(0,a.jsx)("span",{onClick:()=>x.push({pathname:"/login",query:{emailVerify:!0}}),className:"text-light underline cursor-pointer hover:text-primary",children:"Lost Password?"})}),(0,a.jsx)("div",{className:"col-12 mt-5",children:(0,a.jsx)("button",{className:"btn btn-primary block w-full ".concat(j&&"bg-[#27C762] hover:bg-[#27C762]"),type:"submit",children:t?(0,a.jsxs)(a.Fragment,{children:["Please Wait",(0,a.jsx)(o.A,{})]}):(0,a.jsx)(a.Fragment,{children:j?(0,a.jsxs)(a.Fragment,{children:["Login And Checkout"," ",(0,a.jsx)("svg",{width:"13",height:"10",viewBox:"0 0 13 10",fill:"none",children:(0,a.jsx)("path",{d:"M1.5 5H11.5M11.5 5L7.33333 1M11.5 5L7.33333 9",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}):"Log In"})})}),(0,a.jsx)("div",{className:"col-12 mt-5",children:d&&(0,a.jsx)("p",{className:"message message-error",children:d})})]})}},48640:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(37876);let r=()=>(0,a.jsxs)("div",{className:"relative mb-3.5 py-3.5",children:[(0,a.jsx)("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 font-medium leading-none text-text-light bg-white px-2",children:"Or"}),(0,a.jsx)("div",{"data-orientation":"horizontal",role:"none",className:"shrink-0 h-[1px] w-full bg-gray-100"})]})},73665:(e,s,t)=>{"use strict";t.d(s,{O:()=>r});let a=RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).+$"),r=e=>e.length>=8&&a.test(e)},87404:(e,s,t)=>{"use strict";t.r(s),t.d(s,{__N_SSP:()=>y,default:()=>b});var a=t(37876),r=t(46098),l=t(37054),i=t(10553),n=t(54587),o=t.n(n),c=t(89099),d=t(14232),m=t(48640);let u=()=>{let[e,s]=(0,d.useState)(""),[t,n]=(0,d.useState)(!1),[u,h]=(0,d.useState)(""),p=(0,c.useRouter)(),{userDispatch:x}=(0,r.u)(),j=async s=>{s.preventDefault(),n(!0);try{let s=encodeURIComponent(e);if((await l.A.get("authentication/check-user/?email=".concat(s))).data.result.isPassword)x({type:"ADD_EMAIL",payload:e}),p.push("/login?userExist=true");else{let s=await l.A.post("authentication/verify-user",{email:e,currentTime:new Date().toISOString()});200===s.status&&(x({type:"ADD_EMAIL",payload:e}),p.push("/login?otpVerify=true"))}}catch(e){console.log(e),n(!1),h("No user found with this email")}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"mb-4 text-center text-light",children:"Login is for existing users only. An account will be created automatically when you make a purchase."}),(0,a.jsxs)("button",{onClick:()=>(0,i.signIn)("google",{callbackUrl:"/login?action=login"}),type:"button",className:"btn btn-sm btn-outline-primary w-full mb-4 flex justify-center items-center space-x-2",children:[(0,a.jsx)(o(),{src:"/images/icons/google.svg",alt:"google",width:30,height:30}),(0,a.jsx)("span",{children:"Login with google"})]}),(0,a.jsxs)("form",{className:"row",onSubmit:j,children:[(0,a.jsx)(m.A,{}),(0,a.jsxs)("div",{className:"col-12",children:[(0,a.jsxs)("label",{htmlFor:"email",className:"form-label",children:["Email Address",(0,a.jsx)("span",{className:"lh-1 text-red-600",children:"*"})]}),(0,a.jsx)("input",{type:"email",className:"form-input",id:"email",name:"email",placeholder:"johndoe@email.com",onChange:e=>{s(e.target.value.toLowerCase())},required:!0})]}),(0,a.jsx)("div",{className:"col-12 mt-2 text-end",children:(0,a.jsx)("span",{onClick:()=>p.push({pathname:"/login",query:{emailVerify:!0}}),className:"text-light underline cursor-pointer hover:text-primary",children:"Lost Password?"})}),(0,a.jsx)("div",{className:"col-12 mt-5",children:(0,a.jsx)("button",{type:"submit",className:"btn btn-primary block w-full",children:t?(0,a.jsxs)(a.Fragment,{children:["Submitting",(0,a.jsx)("svg",{height:"25",width:"25",className:"ml-2",viewBox:"0 0 100 100",children:(0,a.jsx)("path",{fill:"#fff",d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50",children:(0,a.jsx)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})})})]}):"Submit"})}),(0,a.jsx)("div",{className:"col-12 mt-5",children:u&&(0,a.jsx)("p",{className:"message message-error",children:u})})]})]})},h=()=>{let[e,s]=(0,d.useState)(""),[t,i]=(0,d.useState)(!1),[n,o]=(0,d.useState)(""),m=(0,c.useRouter)(),{userDispatch:u}=(0,r.u)(),h=async s=>{s.preventDefault(),i(!0);try{let s=await l.A.post("authentication/verify-user",{email:e,currentTime:new Date().toISOString()});200===s.status&&(u({type:"ADD_ID",payload:s.data.result.id}),m.push("/login?otpVerify=true"))}catch(e){console.log(e),i(!1),o("No user found with this email")}};return(0,a.jsxs)("form",{className:"row",onSubmit:h,children:[(0,a.jsxs)("div",{className:"col-12",children:[(0,a.jsxs)("label",{htmlFor:"email",className:"form-label",children:["Email Address",(0,a.jsx)("span",{className:"lh-1 text-red-600",children:"*"})]}),(0,a.jsx)("input",{type:"email",className:"form-input",id:"email",name:"email",placeholder:"johndoe@email.com",onChange:e=>{s(e.target.value.toLowerCase())},required:!0})]}),(0,a.jsx)("div",{className:"col-12 mt-5",children:(0,a.jsx)("button",{type:"submit",className:"btn btn-primary block w-full",children:t?(0,a.jsxs)(a.Fragment,{children:["Submitting",(0,a.jsx)("svg",{height:"25",width:"25",className:"ml-2",viewBox:"0 0 100 100",children:(0,a.jsx)("path",{fill:"#fff",d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50",children:(0,a.jsx)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})})})]}):"Submit"})}),(0,a.jsx)("div",{className:"col-12 mt-5",children:n&&(0,a.jsx)("p",{className:"message message-error",children:n})})]})};var p=t(18536);let x=()=>{let e=(0,c.useRouter)(),s=(0,d.useRef)(null),{userState:t}=(0,r.u)(),[i,n]=(0,d.useState)(""),[o,m]=(0,d.useState)(""),[u,h]=(0,d.useState)(!1),[p,x]=(0,d.useState)(120),[j,f]=(0,d.useState)(!0),[g,w]=(0,d.useState)(!1);(0,d.useEffect)(()=>{w(!0)},[]),(0,d.useEffect)(()=>{let e;return g&&(e=setInterval(()=>{x(e=>e-1)},1e3)),()=>clearInterval(e)},[g]),(0,d.useEffect)(()=>{0===p?(f(!1),w(!1)):f(!0)},[p]);let N=async s=>{s.preventDefault(),h(!0);try{let s=await l.A.post("authentication/verify-otp",{email:t.email,otp:i,currentTime:new Date().toISOString()},{headers:{"content-type":"application/json"}});200===s.status&&(e.push("/login?resetPassword=true"),h(!1))}catch(e){var a,r;m(null==e||null==(r=e.response)||null==(a=r.data)?void 0:a.message),h(!1)}},y=async()=>{x(120),f(!0),w(!0),m(""),n(""),s.current.reset(),await l.A.post("authentication/resend-otp",{email:t.email,currentTime:new Date().toISOString()},{headers:{"content-type":"application/json"}})};return(0,a.jsxs)("form",{className:"row",ref:s,onSubmit:N,children:[(0,a.jsxs)("div",{className:"col-12",children:[(0,a.jsxs)("label",{htmlFor:"otp",className:"form-label",children:["Enter OTP",(0,a.jsx)("span",{className:"lh-1 text-red-600",children:"*"})]}),(0,a.jsx)("input",{type:"text",id:"otp",className:"form-input",placeholder:"Enter OTP",onChange:e=>n(e.target.value)})]}),(0,a.jsxs)("div",{className:"col-12 flex justify-between items-center mt-5",children:[(0,a.jsx)("button",{type:"submit",className:"btn btn-primary",children:u?(0,a.jsxs)(a.Fragment,{children:["Submitting",(0,a.jsx)("svg",{height:"25",width:"25",className:"ml-2",viewBox:"0 0 100 100",children:(0,a.jsx)("path",{fill:"#fff",d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50",children:(0,a.jsx)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})})})]}):"Submit"}),(0,a.jsxs)("button",{className:"btn btn-link",onClick:y,disabled:j,type:"button",children:["Resend OTP"," ",(0,a.jsxs)("span",{className:"ml-2 text-light",children:["(",(e=>{let s=Math.floor(e/60);return"".concat(s.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))})(p),")"]})]})]}),(0,a.jsx)("div",{className:"col-12 mt-5",children:o&&(0,a.jsx)("p",{className:"message message-error",children:o})})]})};var j=t(73665),f=t(48615);let g=()=>{let e=(0,c.useRouter)(),[s,t]=(0,d.useState)(""),[i,n]=(0,d.useState)(""),[o,m]=(0,d.useState)(""),[u,h]=(0,d.useState)(!1),[p,x]=(0,d.useState)(!1),{userState:g,userDispatch:w}=(0,r.u)(),N=async t=>{t.preventDefault(),h(!0);try{if(s!==i||g.error)throw Error("Password does not match");let t=await l.A.patch("authentication/recovery-password",{email:g.email,password:s,currentDate:new Date().toISOString()},{headers:{"content-type":"application/json"}});200===t.status&&(m(""),e.push("/login?passwordReseted=true"),h(!1))}catch(e){console.log(e),m(e.message),h(!1)}};return(0,a.jsxs)("form",{className:"row",onSubmit:N,children:[(0,a.jsxs)("div",{className:"col-12 mb-4",children:[(0,a.jsxs)("label",{htmlFor:"password",className:"form-label",children:["New Password",(0,a.jsx)("span",{className:"lh-1 text-red-600",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:p?"text":"password",className:"form-input",id:"password",name:"password",placeholder:"Enter Password",value:s,onChange:e=>{let s=e.target.value;t(s),w({type:"UPDATE_ERROR",payload:(0,j.O)(s)?"":"Min 8 char, At least 1 upper, 1 lower, and 1 digit"})},required:!0}),(0,a.jsx)("button",{className:"absolute right-3 top-3",type:"button",onClick:()=>x(e=>!e),children:p?(0,a.jsx)(f._NO,{}):(0,a.jsx)(f.Vap,{})})]}),g.error&&(0,a.jsx)("small",{className:"mt-2 text-red-600",children:g.error})]}),(0,a.jsxs)("div",{className:"col-12 mb-4",children:[(0,a.jsxs)("label",{htmlFor:"confirm_password",className:"form-label",children:["Confirm New Password",(0,a.jsx)("span",{className:"lh-1 text-red-600",children:"*"})]}),(0,a.jsx)("input",{type:"password",className:"form-input",id:"confirm_password",name:"confirm_password",placeholder:"Confirm Password",onChange:e=>{n(e.target.value)},required:!0})]}),(0,a.jsx)("div",{className:"col-12 mt-5",children:(0,a.jsx)("button",{type:"submit",className:"btn btn-primary w-full block",children:u?(0,a.jsxs)(a.Fragment,{children:["Changing Password",(0,a.jsx)("svg",{height:"25",width:"25",className:"ml-2",viewBox:"0 0 100 100",children:(0,a.jsx)("path",{fill:"#fff",d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50",children:(0,a.jsx)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})})})]}):"Change Password"})}),(0,a.jsx)("div",{className:"col-12 mt-5",children:o&&(0,a.jsx)("p",{className:"message message-error",children:o})})]})};var w=t(68443),N=t(66399),y=!0;let b=()=>{let{cartDispatch:e}=(0,w.B)(),s=(0,c.useRouter)();return(0,d.useEffect)(()=>{e({type:"ADD_CART",payload:JSON.parse(localStorage.getItem("cart"))})},[]),(0,a.jsx)(N.A,{title:s.query.emailVerify?"Recover Password":s.query.otpVerify?"Verify OTP":s.query.resetPassword?"Set New Password":"Login Account",children:(0,a.jsx)("section",{className:"section relative overflow-hidden",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsx)("div",{className:"row justify-center",children:(0,a.jsx)("div",{className:"mb-8 lg:col-6 lg:mb-0",children:(0,a.jsxs)("div",{className:"rounded-lg bg-white px-10 py-12 shadow relative z-10",children:[(0,a.jsx)("div",{className:"mb-5 text-center",children:(0,a.jsx)("h1",{className:"text-h3",children:s.query.emailVerify?"Recover Password":s.query.otpVerify?"Verify OTP":s.query.resetPassword?"Set New Password":"Login Account"})}),s.query.emailVerify?(0,a.jsx)(h,{}):s.query.otpVerify?(0,a.jsx)(x,{}):s.query.resetPassword?(0,a.jsx)(g,{}):s.query.passwordReseted||s.query.userExist?(0,a.jsx)(p.A,{}):(0,a.jsx)(u,{})]})})})})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[3302,2517,8433,7141,9619,4981,6399,636,6593,8792],()=>s(15794)),_N_E=e.O()}]);